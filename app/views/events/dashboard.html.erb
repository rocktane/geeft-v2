<h1>Dashboard</h1>

<%= form_with model: Event.new, authenticity_token: true, id:"dashboard-calendar", data: { events_dates: @eventsDates } do |f| %>
  <%= f.text_field :start_time,
    data: {
      controller: "datepicker",
      flatpickr_min_date: Time.zone.now #disables past dates
    } %>
<% end %>

<ul data-controller="upcoming-events">
  <% @events.each do |event| %>
    <li data-upcoming-events-target="event" data-event-date-year= <%= event.date.year %> data-event-date-month= <%= event.date.month %> data-event-date-day= <%= event.date.day %> > <%= link_to event.name, event_path(event) %><%= event.date %></li>
  <% end %>
</ul>
<%= link_to 'add event', new_event_path %>
