<!DOCTYPE html>
<html>
  <head>
    <title>Geeft</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload", timestamp: Time.now.to_i %>
    <%= javascript_importmap_tags %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>

<!-- Ajout de la ligne pour pouvoir cacher la nav-bar sur la homepage mobile -->
<body class="<%= 'home-page' if controller_name == 'pages' && action_name == 'home' %>">
  <%= render 'shared/navbar' %>
  <%= yield %>
  <%= render "shared/flashes" %>
  <%= render "shared/footer" %>

  <script>
    document.addEventListener('click', function(event) {
      const details = document.getElementById('menu-details');
      if (!details.contains(event.target)) {
        details.removeAttribute('open');
      }
    });
  </script>
  </body>
</html>
